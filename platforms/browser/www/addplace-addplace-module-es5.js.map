{"version":3,"sources":["webpack:///src/app/home/admin/homeadmin/addplace/addplace.page.html","webpack:///src/app/home/admin/homeadmin/addplace/addplace-routing.module.ts","webpack:///src/app/home/admin/homeadmin/addplace/addplace.module.ts","webpack:///src/app/home/admin/homeadmin/addplace/addplace.page.scss","webpack:///src/app/home/admin/homeadmin/addplace/addplace.page.ts"],"names":["routes","path","component","AddplacePageRoutingModule","imports","forChild","exports","AddplacePageModule","declarations","AddplacePage","http","formBuilder","loadingCtrl","categoryData","i","placeAll","pathStart","pathEnd","placeStartAll","placeEndAll","distance","lastNameFile","fileName","selectedFile","form_place","group","categoryNo","required","placeTH","placeEN","detail","latitude","longitude","getCategory","loadMap","create","message","loading","present","map","google","maps","Map","document","getElementById","zoom","center","lat","lng","Marker","draggable","animation","Animation","DROP","position","marker","dismiss","addListener","console","log","getPosition","controls","setValue","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","reverseButtons","then","result","value","formData","FormData","Object","keys","forEach","key","append","post","httpRespon","response","success","setPath","reset","navRouter","DismissReason","cancel","data","push","parseFloat","length","item","index","setDistanceGo","setDistanceBlack","service","DistanceMatrixService","getDistanceMatrix","origins","destinations","travelMode","status","rows","elements","Math","ceil","fare","placeNo","event","target","files","mimeType","type","match","name","split","Date","getTime","reader","FileReader","imagePath","readAsDataURL","onload","_event","imgURL","selector","template"],"mappings":"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","file":"addplace-addplace-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <!-- <ion-icon name=\\\"chevron-back-outline\\\">Black</ion-icon> -->\\n      <ion-back-button\\n        [routerLink]=\\\"['/home/admin/homeadmin']\\\"\\n      ></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Add Place</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content mode=\\\"ios\\\" [fullscreen]=\\\"false\\\">\\n  <div id=\\\"map_canvas\\\"></div>\\n  <div id=\\\"container\\\" text-center>\\n    <form action=\\\"\\\" [formGroup]=\\\"form_place\\\">\\n      <div style=\\\"padding: 5%;\\\">\\n        <span class=\\\"tl\\\">Add Place</span>\\n      </div>\\n      <img src=\\\"assets/img/icons-image.png\\\" height=\\\"200\\\" *ngIf=\\\"!imgURL\\\" />\\n      <img [src]=\\\"imgURL\\\" height=\\\"200\\\" *ngIf=\\\"imgURL\\\" />\\n      <ion-item>\\n        <ion-label>รูปภาพ :</ion-label>\\n        <ion-input\\n          type=\\\"file\\\"\\n          accept=\\\"image/*\\\"\\n          id=\\\"upload\\\"\\n          (change)=\\\"onFileSelected($event)\\\"\\n        ></ion-input>\\n      </ion-item>\\n      <ion-item lines=\\\"none\\\">\\n        <ion-label>ชื่อสถานที่</ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label>TH :</ion-label>\\n        <ion-input formControlName=\\\"placeTH\\\"></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label>EN :</ion-label>\\n        <ion-input formControlName=\\\"placeEN\\\"></ion-input>\\n      </ion-item>\\n      <ion-item color=\\\"\\\">\\n        <ion-label>ประเภท</ion-label>\\n        <ion-select\\n          type=\\\"md\\\"\\n          formControlName=\\\"categoryNo\\\"\\n          interface=\\\"action-sheet\\\"\\n        >\\n          <ion-select-option\\n            *ngFor=\\\"let item of categoryData\\\"\\n            [value]=\\\"item.categoryNo\\\"\\n            >{{item.categoryTH}}</ion-select-option\\n          >\\n        </ion-select>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label>รายละเอียด</ion-label>\\n        <ion-textarea\\n          formControlName=\\\"detail\\\"\\n          rows=\\\"6\\\"\\n          cols=\\\"20\\\"\\n          placeholder=\\\"รายละเอียดของสถานที่ท่องเที่ยว...\\\"\\n        ></ion-textarea>\\n      </ion-item>\\n    </form>\\n  </div>\\n</ion-content>\\n\\n<ion-footer>\\n  <section class=\\\"full-width\\\">\\n    <ion-button\\n      mode=\\\"ios\\\"\\n      expand=\\\"block\\\"\\n      color=\\\"primary\\\"\\n      (click)=\\\"setPlace()\\\"\\n      [disabled]=\\\"form_place.invalid\\\"\\n      >Add</ion-button\\n    >\\n  </section>\\n</ion-footer>\\n\";","import { NgModule } from \"@angular/core\";\nimport { Routes, RouterModule } from \"@angular/router\";\n\nimport { AddplacePage } from \"./addplace.page\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    component: AddplacePage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddplacePageRoutingModule {}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\n\nimport { IonicModule } from \"@ionic/angular\";\n\nimport { AddplacePageRoutingModule } from \"./addplace-routing.module\";\n\nimport { AddplacePage } from \"./addplace.page\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AddplacePageRoutingModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [AddplacePage],\n})\nexport class AddplacePageModule {}\n","export default \"#container {\\n  left: 0;\\n  right: 0;\\n  height: 100%;\\n  text-align: center;\\n  position: absolute;\\n}\\n\\nion-content ion-toolbar {\\n  --background: translucent;\\n}\\n\\nion-title {\\n  font-size: 20px;\\n  font-weight: 400;\\n}\\n\\n.lg {\\n  font-size: 100px;\\n  margin-top: 10%;\\n  color: #4c8dff;\\n}\\n\\n#map_canvas {\\n  height: 90%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9tZWRpYS9iaWcvRTQ5NjlFNzc5NjlFNDlDNi9wcm9qZWN0L2ZhaWwvdHJhdmVsaW5nX3BsYW5uZXIvc3JjL2FwcC9ob21lL2FkbWluL2hvbWVhZG1pbi9hZGRwbGFjZS9hZGRwbGFjZS5wYWdlLnNjc3MiLCJzcmMvYXBwL2hvbWUvYWRtaW4vaG9tZWFkbWluL2FkZHBsYWNlL2FkZHBsYWNlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLE9BQUE7RUFDQSxRQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7QUNDRjs7QURFQTtFQUNFLHlCQUFBO0FDQ0Y7O0FERUE7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7QUNDRjs7QURDQTtFQUNFLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7QUNFRjs7QURBQTtFQUNFLFdBQUE7QUNHRiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvYWRtaW4vaG9tZWFkbWluL2FkZHBsYWNlL2FkZHBsYWNlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNjb250YWluZXIge1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgaGVpZ2h0OiAxMDAlO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbn1cblxuaW9uLWNvbnRlbnQgaW9uLXRvb2xiYXIge1xuICAtLWJhY2tncm91bmQ6IHRyYW5zbHVjZW50O1xufVxuXG5pb24tdGl0bGUge1xuICBmb250LXNpemU6IDIwcHg7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG59XG4ubGcge1xuICBmb250LXNpemU6IDEwMHB4O1xuICBtYXJnaW4tdG9wOiAxMCU7XG4gIGNvbG9yOiAjNGM4ZGZmO1xufVxuI21hcF9jYW52YXMge1xuICBoZWlnaHQ6IDkwJTtcbn1cbiIsIiNjb250YWluZXIge1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgaGVpZ2h0OiAxMDAlO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbn1cblxuaW9uLWNvbnRlbnQgaW9uLXRvb2xiYXIge1xuICAtLWJhY2tncm91bmQ6IHRyYW5zbHVjZW50O1xufVxuXG5pb24tdGl0bGUge1xuICBmb250LXNpemU6IDIwcHg7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG59XG5cbi5sZyB7XG4gIGZvbnQtc2l6ZTogMTAwcHg7XG4gIG1hcmdpbi10b3A6IDEwJTtcbiAgY29sb3I6ICM0YzhkZmY7XG59XG5cbiNtYXBfY2FudmFzIHtcbiAgaGVpZ2h0OiA5MCU7XG59Il19 */\";","import { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { HttpService } from \"./../../../../services/http.service\";\nimport { Component, OnInit } from \"@angular/core\";\nimport Swal from \"sweetalert2\";\nimport Compressor from \"compressorjs\";\ndeclare var google;\n\nimport { LoadingController, Platform } from \"@ionic/angular\";\n@Component({\n  selector: \"app-addplace\",\n  templateUrl: \"./addplace.page.html\",\n  styleUrls: [\"./addplace.page.scss\"],\n})\nexport class AddplacePage implements OnInit {\n  public form_place: FormGroup;\n  public categoryData: Array<any> = null;\n  map: any;\n  public i = 0;\n  public placeAll: Array<any> = null;\n  public pathStart: Array<any> = null;\n  public pathEnd: Array<any> = null;\n  public placeStartAll = [];\n  public placeEndAll = [];\n  public distance = \"\";\n  public lastNameFile: Array<any> = [];\n  public marker: any;\n  loading: any;\n  public fileName = null;\n  public selectedFile: File = null;\n  imagePath: any;\n  imgURL: any;\n  constructor(\n    private http: HttpService,\n    private formBuilder: FormBuilder,\n    public loadingCtrl: LoadingController\n  ) {}\n\n  ngOnInit() {\n    this.form_place = this.formBuilder.group({\n      categoryNo: [\"\", Validators.required],\n      placeTH: [\"\", Validators.required],\n      placeEN: [\"\", Validators.required],\n      detail: \"\",\n      latitude: [\"\", Validators.required],\n      longitude: [\"\", Validators.required],\n    });\n\n    this.getCategory();\n    this.loadMap();\n  }\n\n  async loadMap() {\n    //คำนวนระยะทาง\n    //this.displayDirection();\n\n    this.loading = await this.loadingCtrl.create({\n      message: \"Please wait...\",\n    });\n    await this.loading.present();\n\n    this.map = new google.maps.Map(document.getElementById(\"map_canvas\"), {\n      zoom: 15,\n      center: { lat: 14.9736915, lng: 102.0827157 },\n    });\n    this.marker = await new google.maps.Marker({\n      map: this.map,\n      draggable: true,\n      animation: google.maps.Animation.DROP,\n      position: { lat: 14.9736915, lng: 102.0827157 },\n    });\n    this.loading.dismiss();\n    this.marker.addListener(\"dragend\", () => {\n      console.log(this.marker.getPosition().lat());\n      console.log(this.marker.getPosition().lng());\n      this.form_place.controls[\"latitude\"].setValue(\n        this.marker.getPosition().lat()\n      );\n      this.form_place.controls[\"longitude\"].setValue(\n        this.marker.getPosition().lng()\n      );\n    });\n  }\n\n  async setPlace() {\n    this.placeStartAll = [];\n    this.placeEndAll = [];\n    Swal.fire({\n      title: \"คุณแน่ใจว่าต้องการเพิ่มสถานที่?\",\n      text: \"คุณจะไม่สามารถยกเลิกสิ่งนี้ได้ !\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#28a745\",\n      cancelButtonColor: \"#dc3545\",\n      confirmButtonText: \"ตกลง !\",\n      cancelButtonText: \"ยกเลิก\",\n\n      reverseButtons: true,\n    }).then(async (result) => {\n      if (result.value) {\n        let formData = new FormData();\n        Object.keys(this.form_place.value).forEach((key) => {\n          formData.append(key, this.form_place.value[key]);\n        });\n        formData.append(\"img\", this.fileName);\n        formData.append(\"image\", this.selectedFile, this.fileName);\n        this.loading = await this.loadingCtrl.create({\n          message: \"Please wait...\",\n        });\n        await this.loading.present();\n        let httpRespon: any = await this.http.post(\"setPlace\", formData);\n        //console.log(httpRespon);\n        if (httpRespon.response.success) {\n          await Swal.fire(\n            \"สำเร็จ\",\n            httpRespon.response.message + \" !\",\n            \"success\"\n          ).then(() => {\n            this.loading.dismiss();\n            this.setPath();\n            this.form_place.reset();\n            this.http.navRouter(\"/home/admin/homeadmin\");\n          });\n        } else {\n          Swal.fire(\n            \"ผิดพลาด\",\n            httpRespon.response.message + \" !\",\n            \"error\"\n          ).then(() => {\n            this.loading.dismiss();\n          });\n        }\n      } else if (result.dismiss === Swal.DismissReason.cancel) {\n      }\n    });\n  }\n  async getCategory() {\n    let httpRespon: any = await this.http.post(\"getCategory\");\n    //console.log(httpRespon);\n    if (httpRespon.response.success) {\n      this.categoryData = await httpRespon.response.data;\n    } else {\n      this.categoryData = null;\n    }\n  }\n\n  async setPath() {\n    let httpRespon: any = await this.http.post(\"getPlace\");\n    //console.log(httpRespon);\n    if (httpRespon.response.success) {\n      this.placeAll = await httpRespon.response.data;\n    } else {\n      this.placeAll = null;\n    }\n    this.placeStartAll.push({\n      lat: parseFloat(this.placeAll[this.placeAll.length - 1].latitude),\n      lng: parseFloat(this.placeAll[this.placeAll.length - 1].longitude),\n    });\n    this.placeAll.forEach(async (item, index) => {\n      this.placeEndAll.push({\n        lat: parseFloat(this.placeAll[index].latitude),\n        lng: parseFloat(this.placeAll[index].longitude),\n      });\n    });\n    if (this.placeAll.length > 1) {\n      this.setDistanceGo();\n      this.setDistanceBlack();\n    } else {\n      this.setDistanceGo();\n    }\n  }\n\n  async setDistanceGo() {\n    var service = new google.maps.DistanceMatrixService();\n    service.getDistanceMatrix(\n      {\n        origins: this.placeStartAll,\n        destinations: this.placeEndAll,\n        travelMode: \"DRIVING\",\n      },\n      async (response, status) => {\n        if ((status = \"OK\")) {\n          //console.log(response);\n          this.pathStart = await response.rows[0].elements;\n          this.pathStart.forEach(async (item, index) => {\n            //console.log(item.distance);\n            let formData = new FormData();\n            let fare: number = await Math.ceil(\n              (item.distance.value * 6) / 1000 + 52.5\n            );\n            formData.append(\n              \"firstPath\",\n              this.placeAll[this.placeAll.length - 1].placeNo\n            );\n            formData.append(\"endPath\", this.placeAll[index].placeNo);\n            formData.append(\"distance\", item.distance.value);\n            formData.append(\"distanceText\", item.distance.text);\n            formData.append(\"fare\", fare + \"\");\n\n            let httpRespon: any = await this.http.post(\"setPath\", formData);\n            //console.log(httpRespon);\n            if (httpRespon.response.success) {\n              //console.log(httpRespon.response.message);\n            } else {\n              //console.log(httpRespon.response.message);\n            }\n          });\n        } else {\n          //console.log(status);\n        }\n      }\n    );\n  }\n\n  async setDistanceBlack() {\n    var service = new google.maps.DistanceMatrixService();\n    service.getDistanceMatrix(\n      {\n        origins: this.placeEndAll,\n        destinations: this.placeStartAll,\n        travelMode: \"DRIVING\",\n      },\n      (response, status) => {\n        if ((status = \"OK\")) {\n          console.log(response);\n          this.pathEnd = response.rows;\n          this.pathEnd.forEach(async (item, index) => {\n            //console.log(item.elements[0].distance);\n            let formData = new FormData();\n            let fare: number = await Math.ceil(\n              (item.elements[0].distance.value * 5) / 1000 + 52.5\n            );\n            formData.append(\"firstPath\", this.placeAll[index].placeNo);\n            formData.append(\n              \"endPath\",\n              this.placeAll[this.placeAll.length - 1].placeNo\n            );\n            formData.append(\"distance\", item.elements[0].distance.value);\n            formData.append(\"distanceText\", item.elements[0].distance.text);\n            formData.append(\"fare\", fare + \"\");\n\n            let httpRespon: any = await this.http.post(\"setPath\", formData);\n            //console.log(httpRespon);\n            if (httpRespon.response.success) {\n              //console.log(httpRespon.response.message);\n            } else {\n              console.log(httpRespon.response.message);\n            }\n          });\n        } else {\n          //console.log(status);\n        }\n        return 0;\n      }\n    );\n  }\n  /////////////////////\n  async onFileSelected(event) {\n    this.selectedFile = <File>event.target.files[0];\n    //console.log(event.target.files);\n    //console.log(this.selectedFile);\n    if (event.target.files.length === 0) {\n      Swal.fire(\"กรุณาเลือกไฟล์\", \"\", \"error\");\n      return;\n    }\n    var mimeType = event.target.files[0].type;\n    if (mimeType.match(/image\\/*/) == null) {\n      Swal.fire(\"กรุณาเลือกไฟล์รูปภาพ\", \"\", \"error\");\n      return;\n    }\n    this.lastNameFile = this.selectedFile.name.split(\".\");\n    this.fileName =\n      new Date().getTime() +\n      \".\" +\n      this.lastNameFile[this.lastNameFile.length - 1];\n    //console.log(this.selectedFile.name);\n    var reader = new FileReader();\n    this.imagePath = event.target.files;\n    reader.readAsDataURL(event.target.files[0]);\n    reader.onload = (_event) => {\n      this.imgURL = reader.result;\n    };\n  }\n}\n"]}