{"version":3,"sources":["webpack:///src/app/home/admin/homeadmin/addplace/addplace.page.html","webpack:///src/app/home/admin/homeadmin/addplace/addplace-routing.module.ts","webpack:///src/app/home/admin/homeadmin/addplace/addplace.module.ts","webpack:///src/app/home/admin/homeadmin/addplace/addplace.page.scss","webpack:///src/app/home/admin/homeadmin/addplace/addplace.page.ts"],"names":["routes","path","component","AddplacePageRoutingModule","imports","forChild","exports","AddplacePageModule","declarations","AddplacePage","http","formBuilder","loadingCtrl","categoryData","i","placeAll","pathStart","pathEnd","placeStartAll","placeEndAll","placeNo","distance","lastNameFile","fileName","selectedFile","key","form_place","group","categoryNo","required","placeTH","placeEN","detail","latitude","longitude","getCategory","loadMap","create","message","loading","present","map","google","maps","Map","document","getElementById","zoom","center","lat","lng","geocoder","Geocoder","Marker","draggable","animation","Animation","DROP","position","marker","dismiss","addListener","console","log","getPosition","controls","setValue","geocoderAddress","geocode","address","results","status","setCenter","geometry","location","setZoom","setPosition","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","reverseButtons","then","result","value","formData","FormData","Object","keys","forEach","append","post","httpRespon","response","success","setPath","reset","navRouter","DismissReason","cancel","data","rows","Math","ceil","length","push","parseFloat","n","item","index","p","setPathGoBlack","setPathGo","setDistanceGo","sleep","setDistanceBlack","ms","Promise","resolve","setTimeout","placeEnd","service","DistanceMatrixService","getDistanceMatrix","origins","destinations","travelMode","elements","fare","event","target","files","mimeType","type","match","name","split","Date","getTime","reader","FileReader","imagePath","readAsDataURL","onload","_event","imgURL","selector","template"],"mappings":"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","file":"addplace-addplace-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <!-- <ion-icon name=\\\"chevron-back-outline\\\">Black</ion-icon> -->\\n      <ion-back-button\\n        [routerLink]=\\\"['/home/admin/homeadmin']\\\"\\n      ></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Add Place</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content mode=\\\"ios\\\" [fullscreen]=\\\"false\\\">\\n  <!-- Animated Searchbar -->\\n  <ion-searchbar\\n    [(ngModel)]=\\\"key\\\"\\n    (keyup.enter)=\\\"getAddress()\\\"\\n    animated\\n  ></ion-searchbar>\\n\\n  <div id=\\\"map_canvas\\\"></div>\\n  <div id=\\\"container\\\" text-center>\\n    <form action=\\\"\\\" [formGroup]=\\\"form_place\\\">\\n      <div style=\\\"padding: 5%;\\\">\\n        <span class=\\\"tl\\\">Add Place</span>\\n      </div>\\n      <img src=\\\"assets/img/icons-image.png\\\" height=\\\"200\\\" *ngIf=\\\"!imgURL\\\" />\\n      <img [src]=\\\"imgURL\\\" height=\\\"200\\\" *ngIf=\\\"imgURL\\\" />\\n      <ion-item>\\n        <ion-label>รูปภาพ :</ion-label>\\n        <ion-input\\n          type=\\\"file\\\"\\n          accept=\\\"image/*\\\"\\n          id=\\\"upload\\\"\\n          (change)=\\\"onFileSelected($event)\\\"\\n        ></ion-input>\\n      </ion-item>\\n      <ion-item lines=\\\"none\\\">\\n        <ion-label>ชื่อสถานที่</ion-label>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label>TH :</ion-label>\\n        <ion-input formControlName=\\\"placeTH\\\"></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label>EN :</ion-label>\\n        <ion-input formControlName=\\\"placeEN\\\"></ion-input>\\n      </ion-item>\\n      <ion-item color=\\\"\\\">\\n        <ion-label>ประเภท</ion-label>\\n        <ion-select\\n          type=\\\"md\\\"\\n          formControlName=\\\"categoryNo\\\"\\n          interface=\\\"action-sheet\\\"\\n        >\\n          <ion-select-option\\n            *ngFor=\\\"let item of categoryData\\\"\\n            [value]=\\\"item.categoryNo\\\"\\n            >{{item.categoryTH}}</ion-select-option\\n          >\\n        </ion-select>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label>รายละเอียด</ion-label>\\n        <ion-textarea\\n          formControlName=\\\"detail\\\"\\n          rows=\\\"6\\\"\\n          cols=\\\"20\\\"\\n          placeholder=\\\"รายละเอียดของสถานที่ท่องเที่ยว...\\\"\\n        ></ion-textarea>\\n      </ion-item>\\n    </form>\\n  </div>\\n</ion-content>\\n\\n<ion-footer>\\n  <section class=\\\"full-width\\\">\\n    <ion-button\\n      mode=\\\"ios\\\"\\n      expand=\\\"block\\\"\\n      color=\\\"primary\\\"\\n      (click)=\\\"setPlace()\\\"\\n      [disabled]=\\\"form_place.invalid\\\"\\n      >Add</ion-button\\n    >\\n  </section>\\n</ion-footer>\\n\";","import { NgModule } from \"@angular/core\";\nimport { Routes, RouterModule } from \"@angular/router\";\n\nimport { AddplacePage } from \"./addplace.page\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    component: AddplacePage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddplacePageRoutingModule {}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\n\nimport { IonicModule } from \"@ionic/angular\";\n\nimport { AddplacePageRoutingModule } from \"./addplace-routing.module\";\n\nimport { AddplacePage } from \"./addplace.page\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AddplacePageRoutingModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [AddplacePage],\n})\nexport class AddplacePageModule {}\n","export default \"#container {\\n  left: 0;\\n  right: 0;\\n  height: 100%;\\n  text-align: center;\\n  position: absolute;\\n}\\n\\nion-content ion-toolbar {\\n  --background: translucent;\\n}\\n\\nion-title {\\n  font-size: 20px;\\n  font-weight: 400;\\n}\\n\\n.lg {\\n  font-size: 100px;\\n  margin-top: 10%;\\n  color: #4c8dff;\\n}\\n\\n#map_canvas {\\n  height: 80%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaG9tZS9hZG1pbi9ob21lYWRtaW4vYWRkcGxhY2UvQzpcXHByb2plY3RcXGZhaWxcXHRyYXZlbGluZ19wbGFubmVyL3NyY1xcYXBwXFxob21lXFxhZG1pblxcaG9tZWFkbWluXFxhZGRwbGFjZVxcYWRkcGxhY2UucGFnZS5zY3NzIiwic3JjL2FwcC9ob21lL2FkbWluL2hvbWVhZG1pbi9hZGRwbGFjZS9hZGRwbGFjZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxPQUFBO0VBQ0EsUUFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRSx5QkFBQTtBQ0NGOztBREVBO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0FDQ0Y7O0FEQ0E7RUFDRSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0FDRUY7O0FEQUE7RUFDRSxXQUFBO0FDR0YiLCJmaWxlIjoic3JjL2FwcC9ob21lL2FkbWluL2hvbWVhZG1pbi9hZGRwbGFjZS9hZGRwbGFjZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjY29udGFpbmVyIHtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIGhlaWdodDogMTAwJTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG59XG5cbmlvbi1jb250ZW50IGlvbi10b29sYmFyIHtcbiAgLS1iYWNrZ3JvdW5kOiB0cmFuc2x1Y2VudDtcbn1cblxuaW9uLXRpdGxlIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBmb250LXdlaWdodDogNDAwO1xufVxuLmxnIHtcbiAgZm9udC1zaXplOiAxMDBweDtcbiAgbWFyZ2luLXRvcDogMTAlO1xuICBjb2xvcjogIzRjOGRmZjtcbn1cbiNtYXBfY2FudmFzIHtcbiAgaGVpZ2h0OiA4MCU7XG59XG4iLCIjY29udGFpbmVyIHtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIGhlaWdodDogMTAwJTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG59XG5cbmlvbi1jb250ZW50IGlvbi10b29sYmFyIHtcbiAgLS1iYWNrZ3JvdW5kOiB0cmFuc2x1Y2VudDtcbn1cblxuaW9uLXRpdGxlIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBmb250LXdlaWdodDogNDAwO1xufVxuXG4ubGcge1xuICBmb250LXNpemU6IDEwMHB4O1xuICBtYXJnaW4tdG9wOiAxMCU7XG4gIGNvbG9yOiAjNGM4ZGZmO1xufVxuXG4jbWFwX2NhbnZhcyB7XG4gIGhlaWdodDogODAlO1xufSJdfQ== */\";","import { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { HttpService } from \"./../../../../services/http.service\";\nimport { Component, OnInit } from \"@angular/core\";\nimport Swal from \"sweetalert2\";\nimport Compressor from \"compressorjs\";\ndeclare var google;\n\nimport { LoadingController, Platform } from \"@ionic/angular\";\n@Component({\n  selector: \"app-addplace\",\n  templateUrl: \"./addplace.page.html\",\n  styleUrls: [\"./addplace.page.scss\"],\n})\nexport class AddplacePage implements OnInit {\n  public form_place: FormGroup;\n  public categoryData: Array<any> = null;\n  map: any;\n  public i = 0;\n  public placeAll: Array<any> = null;\n  public pathStart: Array<any> = null;\n  public pathEnd: Array<any> = null;\n  public placeStartAll = [];\n  public placeEndAll = [];\n  public placeNo = [];\n  public distance = \"\";\n  public lastNameFile: Array<any> = [];\n  public marker: any;\n  loading: any;\n  public fileName = null;\n  public selectedFile: File = null;\n  imagePath: any;\n  imgURL: any;\n  public key = \"\";\n  public rows: number;\n  public cols: number;\n  public geocoder: any;\n  constructor(\n    private http: HttpService,\n    private formBuilder: FormBuilder,\n    public loadingCtrl: LoadingController\n  ) {}\n\n  ngOnInit() {\n    this.form_place = this.formBuilder.group({\n      categoryNo: [\"\", Validators.required],\n      placeTH: [\"\", Validators.required],\n      placeEN: [\"\", Validators.required],\n      detail: \"\",\n      latitude: [\"\", Validators.required],\n      longitude: [\"\", Validators.required],\n    });\n\n    this.getCategory();\n    this.loadMap();\n  }\n\n  async loadMap() {\n    //คำนวนระยะทาง\n    //this.displayDirection();\n\n    this.loading = await this.loadingCtrl.create({\n      message: \"Please wait...\",\n    });\n    await this.loading.present();\n\n    this.map = new google.maps.Map(document.getElementById(\"map_canvas\"), {\n      zoom: 15,\n      center: { lat: 14.9736915, lng: 102.0827157 },\n    });\n\n    this.geocoder = new google.maps.Geocoder();\n\n    this.marker = await new google.maps.Marker({\n      map: this.map,\n      draggable: true,\n      animation: google.maps.Animation.DROP,\n      position: { lat: 14.9736915, lng: 102.0827157 },\n    });\n    this.loading.dismiss();\n    this.marker.addListener(\"dragend\", () => {\n      console.log(this.marker.getPosition().lat());\n      console.log(this.marker.getPosition().lng());\n      this.form_place.controls[\"latitude\"].setValue(\n        this.marker.getPosition().lat()\n      );\n      this.form_place.controls[\"longitude\"].setValue(\n        this.marker.getPosition().lng()\n      );\n    });\n  }\n\n  getAddress() {\n    console.log(this.key);\n    this.geocoderAddress(this.geocoder, this.map);\n  }\n  geocoderAddress(geocoder, map) {\n    geocoder.geocode({ address: this.key }, (results, status) => {\n      if (status == \"OK\") {\n        map.setCenter(results[0].geometry.location);\n        map.setZoom(18);\n        this.marker.setPosition(results[0].geometry.location);\n        console.log(this.marker.getPosition().lat());\n        console.log(this.marker.getPosition().lng());\n        this.form_place.controls[\"latitude\"].setValue(\n          this.marker.getPosition().lat()\n        );\n        this.form_place.controls[\"longitude\"].setValue(\n          this.marker.getPosition().lng()\n        );\n      } else {\n        console.log(status);\n      }\n    });\n  }\n\n  async setPlace() {\n    this.placeStartAll = [];\n    this.placeEndAll = [];\n    Swal.fire({\n      title: \"คุณแน่ใจว่าต้องการเพิ่มสถานที่?\",\n      text: \"คุณจะไม่สามารถยกเลิกสิ่งนี้ได้ !\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#28a745\",\n      cancelButtonColor: \"#dc3545\",\n      confirmButtonText: \"ตกลง !\",\n      cancelButtonText: \"ยกเลิก\",\n\n      reverseButtons: true,\n    }).then(async (result) => {\n      if (result.value) {\n        let formData = new FormData();\n        Object.keys(this.form_place.value).forEach((key) => {\n          formData.append(key, this.form_place.value[key]);\n        });\n        if (this.fileName != null) {\n          formData.append(\"image\", this.selectedFile, this.fileName);\n          formData.append(\"img\", this.fileName);\n        }\n        this.loading = await this.loadingCtrl.create({\n          message: \"Please wait...\",\n        });\n        await this.loading.present();\n        let httpRespon: any = await this.http.post(\"setPlace\", formData);\n        //console.log(httpRespon);\n        if (httpRespon.response.success) {\n          this.setPath().then(async () => {\n            this.loading.dismiss();\n            await Swal.fire(\n              \"สำเร็จ\",\n              httpRespon.response.message + \" !\",\n              \"success\"\n            ).then(() => {\n              this.form_place.reset();\n              this.http.navRouter(\"/home/admin/homeadmin\");\n            });\n          });\n        } else {\n          Swal.fire(\n            \"ผิดพลาด\",\n            httpRespon.response.message + \" !\",\n            \"error\"\n          ).then(() => {\n            this.loading.dismiss();\n          });\n        }\n      } else if (result.dismiss === Swal.DismissReason.cancel) {\n      }\n    });\n  }\n  async getCategory() {\n    let httpRespon: any = await this.http.post(\"getCategory\");\n    //console.log(httpRespon);\n    if (httpRespon.response.success) {\n      this.categoryData = await httpRespon.response.data;\n    } else {\n      this.categoryData = null;\n    }\n  }\n\n  async setPath() {\n    let httpRespon: any = await this.http.post(\"getPlace\");\n    //console.log(httpRespon);\n    if (httpRespon.response.success) {\n      this.placeAll = await httpRespon.response.data;\n    } else {\n      this.placeAll = null;\n    }\n    this.rows = Math.ceil(this.placeAll.length / 20);\n    for (let i = 0; i < this.rows; i++) {\n      this.placeNo.push([]);\n      this.placeEndAll.push([]);\n    }\n    this.placeStartAll.push({\n      lat: parseFloat(this.placeAll[this.placeAll.length - 1].latitude),\n      lng: parseFloat(this.placeAll[this.placeAll.length - 1].longitude),\n    });\n    let n = 0;\n\n    this.placeAll.forEach(async (item, index) => {\n      if (index % 20 == 0 && index != 0) {\n        n++;\n      }\n      this.placeNo[n].push(this.placeAll[index].placeNo);\n      this.placeEndAll[n].push({\n        lat: parseFloat(this.placeAll[index].latitude),\n        lng: parseFloat(this.placeAll[index].longitude),\n      });\n    });\n    if (this.placeAll.length > 1) {\n      let p = 0;\n      await this.setPathGoBlack(p);\n    } else {\n      let p = 0;\n      await this.setPathGo(p);\n    }\n    return true;\n  }\n\n  async setPathGoBlack(p) {\n    for (let item of this.placeEndAll) {\n      await this.setDistanceGo(this.placeEndAll[p], this.placeNo[p]);\n      await this.sleep(3000);\n      await this.setDistanceBlack(this.placeEndAll[p], this.placeNo[p]);\n      await this.sleep(3000);\n      p++;\n    }\n    return true;\n  }\n  async setPathGo(p) {\n    for (let item of this.placeEndAll) {\n      await this.setDistanceGo(this.placeEndAll[p], this.placeNo[p]);\n      await this.sleep(500);\n      p++;\n    }\n  }\n\n  sleep(ms) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\n  async setDistanceGo(placeEnd, placeNo) {\n    var service = new google.maps.DistanceMatrixService();\n\n    //console.log(placeEnd);\n    service.getDistanceMatrix(\n      {\n        origins: this.placeStartAll,\n        destinations: placeEnd,\n        travelMode: \"DRIVING\",\n      },\n      (response, status) => {\n        if ((status = \"OK\")) {\n          console.log(\"ขาไป\" + response);\n          //console.log(status);\n          this.pathStart = response.rows[0].elements;\n\n          this.pathStart.forEach(async (item, index) => {\n            //console.log(item.distance);\n            let formData = new FormData();\n            let fare: number = await Math.ceil(\n              (item.distance.value * 6) / 1000 + 52.5\n            );\n            formData.append(\n              \"firstPath\",\n              this.placeAll[this.placeAll.length - 1].placeNo\n            );\n            formData.append(\"endPath\", placeNo[index]);\n            formData.append(\"distance\", item.distance.value);\n            formData.append(\"distanceText\", item.distance.text);\n            formData.append(\"fare\", fare + \"\");\n\n            let httpRespon: any = await this.http.post(\"setPath\", formData);\n            //console.log(httpRespon);\n            if (httpRespon.response.success) {\n              console.log(\n                \"first : \" +\n                  this.placeAll[this.placeAll.length - 1].placeNo +\n                  \" end : \" +\n                  placeNo[index]\n              );\n              //console.log(httpRespon.response.message);\n            } else {\n              console.log(httpRespon.response.message);\n            }\n          });\n        } else {\n          //console.log(status);\n        }\n      }\n    );\n  }\n\n  async setDistanceBlack(placeEnd, placeNo) {\n    var service = new google.maps.DistanceMatrixService();\n    //console.log(placeEnd);\n    service.getDistanceMatrix(\n      {\n        origins: placeEnd,\n        destinations: this.placeStartAll,\n        travelMode: \"DRIVING\",\n      },\n      (response, status) => {\n        if ((status = \"OK\")) {\n          console.log(\"ขากลับ\" + response);\n          this.pathEnd = response.rows;\n          this.pathEnd.forEach(async (item, index) => {\n            //console.log(item.elements[0].distance);\n            let formData = new FormData();\n            let fare: number = await Math.ceil(\n              (item.elements[0].distance.value * 6) / 1000 + 52.5\n            );\n            formData.append(\"firstPath\", placeNo[index]);\n            formData.append(\n              \"endPath\",\n              this.placeAll[this.placeAll.length - 1].placeNo\n            );\n            formData.append(\"distance\", item.elements[0].distance.value);\n            formData.append(\"distanceText\", item.elements[0].distance.text);\n            formData.append(\"fare\", fare + \"\");\n\n            let httpRespon: any = await this.http.post(\"setPath\", formData);\n            //console.log(httpRespon);\n            if (httpRespon.response.success) {\n              console.log(\n                \"first : \" +\n                  placeNo[index] +\n                  \" end : \" +\n                  this.placeAll[this.placeAll.length - 1].placeNo\n              );\n              //console.log(httpRespon.response.message);\n            } else {\n              console.log(httpRespon.response.message);\n            }\n          });\n        } else {\n          //console.log(status);\n        }\n        return 0;\n      }\n    );\n  }\n  /////////////////////\n  async onFileSelected(event) {\n    this.selectedFile = <File>event.target.files[0];\n    //console.log(event.target.files);\n    //console.log(this.selectedFile);\n    if (event.target.files.length === 0) {\n      Swal.fire(\"กรุณาเลือกไฟล์\", \"\", \"error\");\n      return;\n    }\n    var mimeType = event.target.files[0].type;\n    if (mimeType.match(/image\\/*/) == null) {\n      Swal.fire(\"กรุณาเลือกไฟล์รูปภาพ\", \"\", \"error\");\n      return;\n    }\n    this.lastNameFile = this.selectedFile.name.split(\".\");\n    this.fileName =\n      new Date().getTime() +\n      \".\" +\n      this.lastNameFile[this.lastNameFile.length - 1];\n    //console.log(this.selectedFile.name);\n    var reader = new FileReader();\n    this.imagePath = event.target.files;\n    reader.readAsDataURL(event.target.files[0]);\n    reader.onload = (_event) => {\n      this.imgURL = reader.result;\n    };\n  }\n}\n"]}