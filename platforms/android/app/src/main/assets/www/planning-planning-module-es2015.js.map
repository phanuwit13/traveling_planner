{"version":3,"sources":["./src/app/home/planning/planning.page.html","./src/app/home/planning/planning-routing.module.ts","./src/app/home/planning/planning.module.ts","./src/app/home/planning/planning.page.scss","./src/app/home/planning/planning.page.ts"],"names":[],"mappings":"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","file":"planning-planning-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <!-- <ion-icon name=\\\"chevron-back-outline\\\">Black</ion-icon> -->\\n      <ion-back-button\\n        (click)=\\\"closeList()\\\"\\n        [routerLink]=\\\"['/home']\\\"\\n      ></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Planning</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content [fullscreen]=\\\"false\\\">\\n  <div id=\\\"container\\\">\\n    <form\\n      [formGroup]=\\\"form_planning\\\"\\n      style=\\\"padding-top: 15px; font-size: 18px;\\\"\\n    >\\n      <ion-label slot=\\\"start\\\">จุดเริ่มต้น</ion-label>\\n      <ion-item color=\\\"\\\">\\n        <ion-label>ประเภท</ion-label>\\n        <ion-select\\n          type=\\\"md\\\"\\n          formControlName=\\\"categoryNo\\\"\\n          interface=\\\"action-sheet\\\"\\n          (ionChange)=\\\"getPlaceCategory()\\\"\\n        >\\n          <ion-select-option\\n            *ngFor=\\\"let item of categoryData\\\"\\n            [value]=\\\"item.categoryNo\\\"\\n            >{{item.categoryTH}}</ion-select-option\\n          >\\n        </ion-select>\\n      </ion-item>\\n\\n      <ion-item color=\\\"\\\">\\n        <ion-label>สถานที่</ion-label>\\n        <ion-select\\n          type=\\\"md\\\"\\n          formControlName=\\\"point_start\\\"\\n          interface=\\\"action-sheet\\\"\\n        >\\n          <ion-select-option *ngFor=\\\"let item of placeData \\\" [value]=\\\"item\\\"\\n            >{{item.placeTH}}</ion-select-option\\n          >\\n        </ion-select>\\n      </ion-item>\\n\\n      <ion-item\\n        color=\\\"\\\"\\n        *ngIf=\\\"this.form_planning.controls['point_start'].value != ''\\\"\\n      >\\n        <ion-label\\n          >{{'จุดเริ่มต้น'+\\\"\\n          \\\"+this.form_planning.controls['point_start'].value.placeTH}}</ion-label\\n        >\\n      </ion-item>\\n\\n      <div style=\\\"padding-top: 15px;\\\">\\n        <ion-label>โปรดเลือกสถานที่ ที่ต้องการไป</ion-label>\\n      </div>\\n      <ion-item color=\\\"\\\">\\n        <ion-label>ประเภท</ion-label>\\n        <ion-select\\n          type=\\\"md\\\"\\n          formControlName=\\\"categoryNo\\\"\\n          interface=\\\"action-sheet\\\"\\n          (ionChange)=\\\"getPlaceCategory()\\\"\\n        >\\n          <ion-select-option\\n            *ngFor=\\\"let item of categoryData\\\"\\n            [value]=\\\"item.categoryNo\\\"\\n            >{{item.categoryTH}}</ion-select-option\\n          >\\n        </ion-select>\\n      </ion-item>\\n\\n      <ion-item color=\\\"\\\">\\n        <ion-label>สถานที่</ion-label>\\n        <ion-select\\n          type=\\\"md\\\"\\n          formControlName=\\\"placeNo\\\"\\n          interface=\\\"action-sheet\\\"\\n          (ionChange)=\\\"addPlace()\\\"\\n        >\\n          <ion-select-option *ngFor=\\\"let item of placeData\\\" [value]=\\\"item\\\"\\n            >{{item.placeTH}}</ion-select-option\\n          >\\n        </ion-select>\\n      </ion-item>\\n\\n      <ion-item-sliding *ngFor=\\\"let x of no ; let i = index\\\">\\n        <ion-item color=\\\"\\\">\\n          <ion-label>{{(i+1)+\\\". \\\"+x.placeTH}}</ion-label>\\n        </ion-item>\\n        <ion-item-options side=\\\"end\\\">\\n          <ion-item-option color=\\\"danger\\\" (click)=\\\"delPlace(x)\\\"\\n            >Delete</ion-item-option\\n          >\\n        </ion-item-options>\\n      </ion-item-sliding>\\n    </form>\\n  </div>\\n</ion-content>\\n<ion-footer>\\n  <section class=\\\"full-width\\\">\\n    <ion-button\\n      mode=\\\"ios\\\"\\n      expand=\\\"block\\\"\\n      color=\\\"primary\\\"\\n      (click)=\\\"testSort() \\\"\\n      [disabled]=\\\"this.no.length ==0 || this.form_planning.controls['point_start'].value =='' \\\"\\n      >Plan</ion-button\\n    >\\n  </section>\\n</ion-footer>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PlanningPage } from './planning.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PlanningPage\n  },\n  {\n    path: 'resulte',\n    loadChildren: () => import('./resulte/resulte.module').then( m => m.ResultePageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PlanningPageRoutingModule {}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\n\nimport { IonicModule } from \"@ionic/angular\";\n\nimport { PlanningPageRoutingModule } from \"./planning-routing.module\";\n\nimport { PlanningPage } from \"./planning.page\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PlanningPageRoutingModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [PlanningPage],\n})\nexport class PlanningPageModule {}\n","export default \"#container {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n}\\n\\nion-content ion-toolbar {\\n  --background: translucent;\\n}\\n\\nion-title {\\n  font-size: 20px;\\n  font-weight: 400;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9tZWRpYS9iaWcvRTQ5NjlFNzc5NjlFNDlDNi9wcm9qZWN0L2ZhaWwvdHJhdmVsaW5nX3BsYW5uZXIvc3JjL2FwcC9ob21lL3BsYW5uaW5nL3BsYW5uaW5nLnBhZ2Uuc2NzcyIsInNyYy9hcHAvaG9tZS9wbGFubmluZy9wbGFubmluZy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDRSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7QUNERjs7QURJQTtFQUNFLHlCQUFBO0FDREY7O0FER0E7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7QUNBRiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvcGxhbm5pbmcvcGxhbm5pbmcucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiJGJnOiAjZmZmZmZmO1xuXG4jY29udGFpbmVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xufVxuXG5pb24tY29udGVudCBpb24tdG9vbGJhciB7XG4gIC0tYmFja2dyb3VuZDogdHJhbnNsdWNlbnQ7XG59XG5pb24tdGl0bGUge1xuICBmb250LXNpemU6IDIwcHg7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG59XG4iLCIjY29udGFpbmVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xufVxuXG5pb24tY29udGVudCBpb24tdG9vbGJhciB7XG4gIC0tYmFja2dyb3VuZDogdHJhbnNsdWNlbnQ7XG59XG5cbmlvbi10aXRsZSB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbn0iXX0= */\";","import { HttpService } from \"./../../services/http.service\";\nimport { Component, OnInit, HostListener } from \"@angular/core\";\nimport { FormBuilder, FormControl, FormGroup } from \"@angular/forms\";\nimport Swal from \"sweetalert2\";\n\n@Component({\n  selector: \"app-planning\",\n  templateUrl: \"./planning.page.html\",\n  styleUrls: [\"./planning.page.scss\"],\n})\nexport class PlanningPage implements OnInit {\n  public form_planning: FormGroup;\n  public placeData: Array<any> = null;\n  public categoryData: Array<any> = null;\n  public no: Array<any> = [];\n  public noSort: Array<any> = [];\n  public distance: Array<any> = [];\n  public point_start: Array<any> = [];\n  public placeToGo: Array<any> = [];\n  list = [];\n  public cost: number = 0;\n  public sumDistance: number = 0;\n  constructor(private http: HttpService, private formBuilder: FormBuilder) {}\n\n  @HostListener(\"document:ionBackButton\", [\"$event\"])\n  private async overrideHardwareBackAction($event: any) {\n    this.http.removeList(this.list[0]);\n    this.clearData();\n  }\n\n  async ngOnInit() {\n    this.http.list$.subscribe((list) => (this.list = list));\n    this.form_planning = this.formBuilder.group({\n      placeNo: \"\",\n      categoryNo: \"\",\n      point_start: \"\",\n    });\n    this.getCategory();\n  }\n\n  async addPlace() {\n    if (this.no.length < 8) {\n      let check = 0;\n      if (\n        this.form_planning.controls[\"placeNo\"].value.placeNo ==\n        this.form_planning.controls[\"point_start\"].value.placeNo\n      ) {\n        check = 1;\n        await Swal.fire(\n          \"คุณเลือกสถานที่ซ้ำ !\",\n          \"กรุณาตรวจสอบสถานที่ท่องเที่ยว\",\n          \"warning\"\n        );\n        return;\n      } else {\n        if (this.no == null) {\n          this.no.push(this.form_planning.controls[\"placeNo\"].value);\n          this.placeToGo.push(this.form_planning.controls[\"placeNo\"].value);\n        } else {\n          this.no.forEach(async (item) => {\n            if (item == this.form_planning.controls[\"placeNo\"].value) {\n              check = 1;\n              await Swal.fire(\n                \"คุณเลือกสถานที่ซ้ำ !\",\n                \"กรุณาตรวจสอบสถานที่ท่องเที่ยว\",\n                \"warning\"\n              );\n              return;\n            }\n          });\n          if (check != 1) {\n            this.no.push(this.form_planning.controls[\"placeNo\"].value);\n            this.placeToGo.push(this.form_planning.controls[\"placeNo\"].value);\n          }\n        }\n      }\n    } else {\n      Swal.fire(\n        \"เลือกได้สูงสุด 8 สถานที่ !\",\n        \"กรุณาตรวจสอบสถานที่ท่องเที่ยว\",\n        \"warning\"\n      );\n    }\n  }\n\n  delPlace(value) {\n    this.no.forEach((item, index) => {\n      if (item == value) {\n        this.no.splice(index, 1);\n        return;\n      }\n    });\n  }\n  closeList() {\n    this.http.removeList(this.list[0]);\n  }\n  async addItem(value: any) {\n    if (value != []) {\n      this.http.addNewList(value);\n    }\n  }\n  async getPlace() {\n    let httpRespon: any = await this.http.post(\"getPlace\");\n    //console.log(httpRespon);\n    if (httpRespon.response.data.length > 0) {\n      this.placeData = await httpRespon.response.data;\n    } else {\n      this.placeData = null;\n    }\n  }\n  async getPlaceCategory() {\n    let formData = new FormData();\n    formData.append(\n      \"categoryNo\",\n      this.form_planning.controls[\"categoryNo\"].value\n    );\n    //console.log(this.form_planning.controls[\"categoryNo\"].value);\n    let httpRespon: any = await this.http.post(\"getPlaceCategory\", formData);\n    //console.log(httpRespon);\n    if (httpRespon.response.success) {\n      this.placeData = await httpRespon.response.data;\n    } else {\n      this.placeData = null;\n    }\n  }\n  async getCategory() {\n    let httpRespon: any = await this.http.post(\"getCategory\");\n    //console.log(httpRespon);\n    if (httpRespon.response.success) {\n      this.categoryData = await httpRespon.response.data;\n    } else {\n      this.categoryData = null;\n    }\n  }\n\n  async testSort() {\n    this.point_start = this.form_planning.controls[\"point_start\"].value.placeNo;\n    this.noSort.push(this.form_planning.controls[\"point_start\"].value);\n    for (let i = 0; i < this.no.length; i++) {\n      await this.loopPlace(this.point_start);\n      //console.log(this.noSort);\n    }\n    //console.log(this.cost);\n    this.http.navRouter(\"/home/planning/resulte\");\n    this.sumDistance = await Math.ceil(\n      this.sumDistance / ((this.noSort.length - 1) * 1000)\n    );\n    await this.addItem(this.noSort);\n    await this.addItem(this.cost);\n    this.addItem(this.sumDistance);\n    this.clearData();\n  }\n\n  async loopPlace(start: any) {\n    await this.calculateDistance(start);\n    for (let i = 0; i < this.distance.length; i++) {\n      for (let j = 0; j < this.placeToGo.length; j++) {\n        if (\n          this.distance[i].endPath == this.placeToGo[j].placeNo &&\n          this.distance[i].distance != \"0\"\n        ) {\n          this.cost += parseInt(this.distance[i].fare);\n          this.sumDistance += parseInt(this.distance[i].distance);\n          this.noSort.push(this.placeToGo[j]);\n          this.point_start = await this.placeToGo[j].placeNo;\n          this.placeToGo.splice(j, 1);\n          i = this.distance.length + 1;\n          break;\n        }\n      }\n    }\n  }\n\n  async calculateDistance(firstPath: string) {\n    let formData = new FormData();\n    formData.append(\"firstPath\", firstPath);\n    //formData.append(\"endPath\", endPath);\n    let httpRespon: any = await this.http.post(\"getPathSelectOne\", formData);\n    //console.log(httpRespon);\n    if (httpRespon.response.success) {\n      this.distance = httpRespon.response.data;\n    } else {\n      this.distance = null;\n    }\n\n    this.distance.sort((a: any, b: any) =>\n      parseFloat(a.distance) < parseFloat(b.distance) ? -1 : 0\n    );\n    //console.log(this.distance);\n  }\n  clearData() {\n    this.no = [];\n    this.noSort = [];\n    this.distance = [];\n    this.point_start = [];\n    this.placeToGo = [];\n    this.cost = 0;\n    this.sumDistance = 0;\n  }\n}\n"],"sourceRoot":"webpack:///"}