{"version":3,"sources":["webpack:///src/app/home/planning/planning.page.html","webpack:///src/app/home/planning/planning-routing.module.ts","webpack:///src/app/home/planning/planning.module.ts","webpack:///src/app/home/planning/planning.page.scss","webpack:///src/app/home/planning/planning.page.ts"],"names":["routes","path","component","loadChildren","then","m","ResultePageModule","PlanningPageRoutingModule","imports","forChild","exports","PlanningPageModule","declarations","PlanningPage","http","formBuilder","loadingCtrl","placeData","categoryData","no","noSort","distance","point_start","placeToGo","other","categoryNo","categoryTH","list","placeDistance","cost","sumDistance","$event","removeList","clearData","list$","subscribe","form_planning","group","placeNo","getCategory","length","check","controls","value","fire","push","forEach","item","console","log","index","splice","addNewList","post","httpRespon","response","data","formData","FormData","append","success","filter","create","message","loading","present","i","loopPlace","navRouter","addItem","toFixed","dismiss","start","calculateDistance","j","endPath","parseInt","fare","parseFloat","firstPath","sort","a","b","selector","template"],"mappings":"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","file":"planning-planning-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <!-- <ion-icon name=\\\"chevron-back-outline\\\">Black</ion-icon> -->\\n      <ion-back-button\\n        (click)=\\\"closeList()\\\"\\n        [routerLink]=\\\"['/home']\\\"\\n      ></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Planning</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content [fullscreen]=\\\"false\\\">\\n  <div id=\\\"container\\\">\\n    <form\\n      [formGroup]=\\\"form_planning\\\"\\n      style=\\\"padding-top: 15px; font-size: 18px;\\\"\\n    >\\n      <ion-label slot=\\\"start\\\">จุดเริ่มต้น</ion-label>\\n      <ion-item color=\\\"\\\">\\n        <ion-label>ประเภท</ion-label>\\n        <ion-select\\n          type=\\\"md\\\"\\n          formControlName=\\\"categoryNo\\\"\\n          interface=\\\"action-sheet\\\"\\n          (ionChange)=\\\"getPlaceCategory()\\\"\\n        >\\n          <ion-select-option\\n            *ngFor=\\\"let item of categoryData\\\"\\n            [value]=\\\"item.categoryNo\\\"\\n            >{{item.categoryTH}}</ion-select-option\\n          >\\n        </ion-select>\\n      </ion-item>\\n\\n      <ion-item color=\\\"\\\">\\n        <ion-label>สถานที่</ion-label>\\n        <ion-select\\n          type=\\\"md\\\"\\n          formControlName=\\\"point_start\\\"\\n          interface=\\\"action-sheet\\\"\\n        >\\n          <ion-select-option *ngFor=\\\"let item of placeData \\\" [value]=\\\"item\\\"\\n            >{{item.placeTH}}</ion-select-option\\n          >\\n        </ion-select>\\n      </ion-item>\\n\\n      <ion-item\\n        color=\\\"\\\"\\n        *ngIf=\\\"this.form_planning.controls['point_start'].value != ''\\\"\\n      >\\n        <ion-label\\n          >{{'จุดเริ่มต้น'+\\\"\\n          \\\"+this.form_planning.controls['point_start'].value.placeTH}}</ion-label\\n        >\\n      </ion-item>\\n\\n      <div style=\\\"padding-top: 15px;\\\">\\n        <ion-label>โปรดเลือกสถานที่ ที่ต้องการไป</ion-label>\\n      </div>\\n      <ion-item color=\\\"\\\">\\n        <ion-label>ประเภท</ion-label>\\n        <ion-select\\n          type=\\\"md\\\"\\n          formControlName=\\\"categoryNo\\\"\\n          interface=\\\"action-sheet\\\"\\n          (ionChange)=\\\"getPlaceCategory()\\\"\\n        >\\n          <ion-select-option\\n            *ngFor=\\\"let item of categoryData\\\"\\n            [value]=\\\"item.categoryNo\\\"\\n            >{{item.categoryTH}}</ion-select-option\\n          >\\n        </ion-select>\\n      </ion-item>\\n\\n      <ion-item color=\\\"\\\">\\n        <ion-label>สถานที่</ion-label>\\n        <ion-select\\n          type=\\\"md\\\"\\n          formControlName=\\\"placeNo\\\"\\n          interface=\\\"action-sheet\\\"\\n          (ionChange)=\\\"addPlace()\\\"\\n        >\\n          <ion-select-option *ngFor=\\\"let item of placeData\\\" [value]=\\\"item\\\"\\n            >{{item.placeTH}}</ion-select-option\\n          >\\n        </ion-select>\\n      </ion-item>\\n\\n      <ion-item-sliding *ngFor=\\\"let x of no ; let i = index\\\">\\n        <ion-item color=\\\"\\\">\\n          <ion-label>{{(i+1)+\\\". \\\"+x.placeTH}}</ion-label>\\n        </ion-item>\\n        <ion-item-options side=\\\"end\\\">\\n          <ion-item-option color=\\\"danger\\\" (click)=\\\"delPlace(x)\\\"\\n            >Delete</ion-item-option\\n          >\\n        </ion-item-options>\\n      </ion-item-sliding>\\n    </form>\\n  </div>\\n</ion-content>\\n<ion-footer>\\n  <section class=\\\"full-width\\\">\\n    <ion-button\\n      mode=\\\"ios\\\"\\n      expand=\\\"block\\\"\\n      color=\\\"primary\\\"\\n      (click)=\\\"testSort() \\\"\\n      [disabled]=\\\"this.no.length ==0 || this.form_planning.controls['point_start'].value =='' \\\"\\n      >Plan</ion-button\\n    >\\n  </section>\\n</ion-footer>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PlanningPage } from './planning.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PlanningPage\n  },\n  {\n    path: 'resulte',\n    loadChildren: () => import('./resulte/resulte.module').then( m => m.ResultePageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PlanningPageRoutingModule {}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\n\nimport { IonicModule } from \"@ionic/angular\";\n\nimport { PlanningPageRoutingModule } from \"./planning-routing.module\";\n\nimport { PlanningPage } from \"./planning.page\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PlanningPageRoutingModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [PlanningPage],\n})\nexport class PlanningPageModule {}\n","export default \"#container {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n}\\n\\nion-content ion-toolbar {\\n  --background: translucent;\\n}\\n\\nion-title {\\n  font-size: 20px;\\n  font-weight: 400;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaG9tZS9wbGFubmluZy9DOlxccHJvamVjdFxcZmFpbFxcdHJhdmVsaW5nX3BsYW5uZXIvc3JjXFxhcHBcXGhvbWVcXHBsYW5uaW5nXFxwbGFubmluZy5wYWdlLnNjc3MiLCJzcmMvYXBwL2hvbWUvcGxhbm5pbmcvcGxhbm5pbmcucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0Usa0JBQUE7RUFDQSxrQkFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0FDREY7O0FESUE7RUFDRSx5QkFBQTtBQ0RGOztBREdBO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0FDQUYiLCJmaWxlIjoic3JjL2FwcC9ob21lL3BsYW5uaW5nL3BsYW5uaW5nLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiRiZzogI2ZmZmZmZjtcblxuI2NvbnRhaW5lciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbn1cblxuaW9uLWNvbnRlbnQgaW9uLXRvb2xiYXIge1xuICAtLWJhY2tncm91bmQ6IHRyYW5zbHVjZW50O1xufVxuaW9uLXRpdGxlIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBmb250LXdlaWdodDogNDAwO1xufVxuIiwiI2NvbnRhaW5lciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbn1cblxuaW9uLWNvbnRlbnQgaW9uLXRvb2xiYXIge1xuICAtLWJhY2tncm91bmQ6IHRyYW5zbHVjZW50O1xufVxuXG5pb24tdGl0bGUge1xuICBmb250LXNpemU6IDIwcHg7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG59Il19 */\";","import { HttpService } from \"./../../services/http.service\";\nimport { Component, OnInit, HostListener } from \"@angular/core\";\nimport { FormBuilder, FormControl, FormGroup } from \"@angular/forms\";\nimport { Platform, LoadingController } from \"@ionic/angular\";\nimport Swal from \"sweetalert2\";\n\n@Component({\n  selector: \"app-planning\",\n  templateUrl: \"./planning.page.html\",\n  styleUrls: [\"./planning.page.scss\"],\n})\nexport class PlanningPage implements OnInit {\n  public form_planning: FormGroup;\n  loading: any;\n  public placeData: Array<any> = null;\n  public categoryData: Array<any> = null;\n  public no: Array<any> = [];\n  public noSort: Array<any> = [];\n  public distance: Array<any> = [];\n  public point_start: Array<any> = [];\n  public placeToGo: Array<any> = [];\n  public other = { categoryNo: 8, categoryTH: \"อื่นๆ\" };\n  list = [];\n  placeDistance = [];\n  public cost: number = 0;\n  public sumDistance: number = 0;\n  constructor(private http: HttpService, private formBuilder: FormBuilder,public loadingCtrl: LoadingController,) {}\n\n  @HostListener(\"document:ionBackButton\", [\"$event\"])\n  private async overrideHardwareBackAction($event: any) {\n    this.http.removeList(this.list[0]);\n    this.clearData();\n  }\n\n  async ngOnInit() {\n    this.http.list$.subscribe((list) => (this.list = list));\n    this.form_planning = this.formBuilder.group({\n      placeNo: \"\",\n      categoryNo: \"\",\n      point_start: \"\",\n    });\n    this.getCategory();\n  }\n\n  async addPlace() {\n    if (this.no.length < 8) {\n      let check = 0;\n      if (\n        this.form_planning.controls[\"placeNo\"].value.placeNo ==\n        this.form_planning.controls[\"point_start\"].value.placeNo\n      ) {\n        check = 1;\n        await Swal.fire(\n          \"คุณเลือกสถานที่ซ้ำ !\",\n          \"กรุณาตรวจสอบสถานที่ท่องเที่ยว\",\n          \"warning\"\n        );\n        return;\n      } else {\n        if (this.no == null) {\n          this.no.push(this.form_planning.controls[\"placeNo\"].value);\n          this.placeToGo.push(this.form_planning.controls[\"placeNo\"].value);\n        } else {\n          this.no.forEach(async (item) => {\n            if (item == this.form_planning.controls[\"placeNo\"].value) {\n              check = 1;\n              await Swal.fire(\n                \"คุณเลือกสถานที่ซ้ำ !\",\n                \"กรุณาตรวจสอบสถานที่ท่องเที่ยว\",\n                \"warning\"\n              );\n              return;\n            }\n          });\n          if (check != 1) {\n            this.no.push(this.form_planning.controls[\"placeNo\"].value);\n            this.placeToGo.push(this.form_planning.controls[\"placeNo\"].value);\n          }\n        }\n      }\n    } else {\n      Swal.fire(\n        \"เลือกได้สูงสุด 8 สถานที่ !\",\n        \"กรุณาตรวจสอบสถานที่ท่องเที่ยว\",\n        \"warning\"\n      );\n    }\n    console.log(\"สถานที่ทั้งหมด\")\n    console.log(this.no);\n    console.log(\"สถานที่ ที่จะไป\")\n    console.log(this.placeToGo)\n    \n  }\n\n  delPlace(value) {\n    this.no.forEach((item, index) => {\n      if (item == value) {\n        this.no.splice(index, 1);\n        return;\n      }\n    });\n  }\n  closeList() {\n    this.http.removeList(this.list[0]);\n  }\n  async addItem(value: any) {\n    if (value != []) {\n      this.http.addNewList(value);\n    }\n  }\n  async getPlace() {\n    let httpRespon: any = await this.http.post(\"getPlace\");\n    //console.log(httpRespon);\n    if (httpRespon.response.data.length > 0) {\n      this.placeData = await httpRespon.response.data;\n    } else {\n      this.placeData = null;\n    }\n  }\n  async getPlaceCategory() {\n    let formData = new FormData();\n    formData.append(\n      \"categoryNo\",\n      this.form_planning.controls[\"categoryNo\"].value\n    );\n    //console.log(this.form_planning.controls[\"categoryNo\"].value);\n    let httpRespon: any = await this.http.post(\"getPlaceCategory\", formData);\n    //console.log(httpRespon);\n    if (httpRespon.response.success) {\n      this.placeData = await httpRespon.response.data;\n    } else {\n      this.placeData = null;\n    }\n  }\n\n  async getCategory() {\n    let httpRespon: any = await this.http.post(\"getCategory\");\n    //console.log(httpRespon);\n    if (httpRespon.response.success) {\n      this.categoryData = await httpRespon.response.data;\n      this.categoryData = this.categoryData.filter((item) => {\n        return item.categoryNo != 8;\n      });\n      this.categoryData.push(this.other);\n    } else {\n      this.categoryData = null;\n    }\n    console.log(this.categoryData);\n    \n  }\n  async testSort() {\n    this.loading = await this.loadingCtrl.create({\n      message: \"Please wait...\",\n    });\n    await this.loading.present();\n    this.point_start = this.form_planning.controls[\"point_start\"].value.placeNo;\n    this.noSort.push(this.form_planning.controls[\"point_start\"].value);\n    for (let i = 0; i < this.no.length; i++) {\n      await this.loopPlace(this.point_start);\n      //console.log(this.noSort);\n    }\n    //console.log(this.cost);\n    this.http.navRouter(\"/home/planning/resulte\");\n    this.sumDistance = this.sumDistance / 1000;\n    await this.addItem(this.noSort)\n    await this.addItem(this.cost);\n    await this.addItem(this.sumDistance.toFixed(2));\n    await this.addItem(this.placeDistance);\n    this.clearData();\n    this.loading.dismiss();\n  }\n\n  async loopPlace(start: any) {\n    await this.calculateDistance(start);\n    for (let i = 0; i < this.distance.length; i++) {\n      for (let j = 0; j < this.placeToGo.length; j++) {\n        if (\n          this.distance[i].endPath == this.placeToGo[j].placeNo &&\n          this.distance[i].distance != \"0\"\n        ) {\n          this.cost += parseInt(this.distance[i].fare);\n          this.sumDistance += parseFloat(this.distance[i].distance);\n          this.placeDistance.push((parseFloat(this.distance[i].distance)/1000).toFixed(2));\n          console.log(this.sumDistance);\n          this.noSort.push(this.placeToGo[j]);\n          this.point_start = await this.placeToGo[j].placeNo;\n          this.placeToGo.splice(j, 1);\n          i = this.distance.length + 1;\n          break;\n        }\n      }\n    }\n  }\n\n  async calculateDistance(firstPath: string) {\n    let formData = new FormData();\n    formData.append(\"firstPath\", firstPath);\n    //formData.append(\"endPath\", endPath);\n    let httpRespon: any = await this.http.post(\"getPathSelectOne\", formData);\n    //console.log(httpRespon);\n    if (httpRespon.response.success) {\n      this.distance = httpRespon.response.data;\n      console.log(\"ก่อนเรียง\");\n      console.log(this.distance);\n    } else {\n      this.distance = null;\n    }\n\n    this.distance.sort((a: any, b: any) =>\n      parseFloat(a.distance) < parseFloat(b.distance) ? -1 : 0\n    );\n    console.log(\"หลังเรียง\");\n    console.log(this.distance);\n  }\n  clearData() {\n    this.no = [];\n    this.noSort = [];\n    this.distance = [];\n    this.point_start = [];\n    this.placeToGo = [];\n    this.cost = 0;\n    this.sumDistance = 0;\n  }\n}\n"]}